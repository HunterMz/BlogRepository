---
title: 数据持久化保存——偏好设置
tags:
  - 数据持久化保存
category:
  - iOS开发
date: 2016-07-07 14:30:32
---


一般用来保存用户名、密码、字体大小等设置

* 保存数据操作步骤

```objective-c
// 1.获取NSUserDefaults对象
NSUserDefaults *defaults=[NSUserDefaults standardUserDefaults];
     
// 2.保存数据(如果设置数据之后没有同步, 会在将来某一时间点自动将数据保存到Preferences文件夹下面)
[defaults setObject:@"yangyong" forKey:@"name"];
[defaults setInteger:23 forKey:@"age"];
[defaults setDouble:1.73f forKey:@"height"];
[defaults setObject:@"man" forKey:@"gender"];
    
//3.强制让数据立刻保存
[defaults synchronize];
```

* 读取数据操作步骤

```objective-c
// 1.获取NSUserDefaults对象
NSUserDefaults *defaults=[NSUserDefaults standardUserDefaults];

// 2.读取保存的数据
NSString *name=[defaults objectForKey:@"name"];
NSString *gender=[defaults objectForKey:@"gender"];
NSInteger age=[defaults integerForKey:@"age"];
double height=[defaults doubleForKey:@"height"];

// 3.打印数据
NSLog(@"name=%@,gender=%@,age=%d,height=%.1f",name,gender,age,height);
```


